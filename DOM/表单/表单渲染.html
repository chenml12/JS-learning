<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title></title>
    <style type="text/css">
      #tab {
        border: 5px solid #333;
      }
      #tab th,
      #tab td {
        width: 200px;
        text-align: center;
        border: 1px solid #333;
      }
      #tab thead {
        background: #ccc;
      }
    </style>
  </head>
  <body>
    <table id="tab">
      <thead>
        <th>商品全选<input id="checkAll" type="checkbox" /></th>
        <th>商品编号</th>
        <th>商品名称</th>
        <th>商品价格</th>
        <th>商品数量</th>
        <th>商品删除</th>
      </thead>
      <tbody></tbody>
    </table>
    <script type="text/javascript">
      var aData = [
        {
          num: 1,
          name: "雪碧",
          price: 2.2,
          count: 50,
        },
        {
          num: 2,
          name: "可口可乐",
          price: 2.3,
          count: 55,
        },

        {
          num: 3,
          name: "百事可乐",
          price: 2.3,
          count: 56,
        },

        {
          num: 4,
          name: "美年达",
          price: 2.1,
          count: 45,
        },

        {
          num: 5,
          name: "醒目",
          price: 2.0,
          count: 35,
        },

        {
          num: 6,
          name: "健力宝",
          price: 2.6,
          count: 40,
        },

        {
          num: 7,
          name: "七喜",
          price: 2.2,
          count: 42,
        },

        {
          num: 8,
          name: "王老吉",
          price: 3.2,
          count: 30,
        },

        {
          num: 9,
          name: "加多宝",
          price: 3.3,
          count: 45,
        },

        {
          num: 10,
          name: "芬达",
          price: 2.3,
          count: 48,
        },
      ];

      const tab = document.getElementById("tab");
      const tBody = tab.tBodies[0];

      for (let i = 0; i < aData.length; i++) {
        //创建tr
        const tr = document.createElement("tr");
        //隔行变色
        tr.style.background = i % 2 ? "yellowgreen" : "blue";

        //  生成全选
        var td = document.createElement("td");
        td.innerHTML = '<input type="checkbox">';
        tr.appendChild(td);

        //获取多选按钮
        const checked = td.children[0];
        checked.onclick = function () {
          setColor(this);
        };
        //生成数据
        for (var attr in aData[i]) {
          var td = document.createElement("td");
          td.innerHTML = aData[i][attr];
          tr.appendChild(td);
        }
        // 生成删除
        var td = document.createElement("td");
        td.innerHTML = '<a href="javascript:;">删除</a>';
        tr.appendChild(td);
        //将tr插入tbody
        tBody.appendChild(tr);
      }

      //单选
      var aChecked = tBody.getElementsByTagName("input");
      function setColor(_this) {
        for (let i = 0; i < aChecked.length; i++) {
          if (aChecked[i].checked) {
            _this.parentNode.parentNode.style.background = "yellow";
          } else {
            aChecked[i].parentNode.parentNode.style.background =
              i % 2 ? "yellowgreen" : "blue";
          }
        }
      }
    </script>
  </body>
</html>
