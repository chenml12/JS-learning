<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
      let [foo = true] = [];
      console.log(foo); //true
      let [x, y = "b"] = ["a"]; // x='a', y='b'
      let [x, y = "b"] = ["a", undefined]; // x='a', y='b'
     */

      //   ES6 内部使用严格相等运算符（===），判断一个位置是否有值。所以，只有当一个数组成员严格等于undefined，默认值才会生效。
      //null不严格等于undefined
      /*
      let [x = 1] = [undefined];
      console.log(x); //1
      let [y = 1] = [null];
      console.log(y); //null
      */
      //   因为x能取到值，所以函数f根本不会执行
      /*
      function f() {
        console.log("aaa");
      }
      let [x = f()] = [1];
      console.log(x); //1
      */
      // 默认值可以引用解构赋值的其他变量，但该变量必须已经声明。
      let [x = 1, y = x] = []; // x=1; y=1
      let [x = 1, y = x] = [2]; // x=2; y=2
      let [x = 1, y = x] = [1, 2]; // x=1; y=2
      let [x = y, y = 1] = []; // ReferenceError: y is not defined
    </script>
  </body>
</html>
